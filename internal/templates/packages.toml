# Construct User-Defined Packages Configuration

# System-level Debian packages (installed via apt-get)
# These packages were moved out of the base image to reduce size.
# Uncomment any you need:
[apt]
packages = [
    "vim",       # Full-featured text editor (nano is included by default)
    "tmux",      # Terminal multiplexer for persistent sessions
    "nano",
    "g++",       # C++ compiler needed for native Node.js modules
]

# Homebrew packages and taps
[brew]
taps = [
    "shivammathur/extensions",  # PHP extensions (required for pcov)
    "EstebanForge/tap",
]
packages = [
    # Core utilities
    "ast-grep", "yq", "sd", "fzf", "eza", "fd", "bat", "ripgrep", "jq", "curl", "wget", "tree", "unzip", "socat", "make", "htop", "netcat", "bind", "sshpass",
    # Development tools
    "gh", "git-lfs", "git-delta", "git-cliff", "rsync", "procs", "python-setuptools", "awscli", "cmake", "pkg-config", "direnv", "gum",
    # Languages
    "go", "openjdk", "typescript", "rust", "kotlin", "lua", "ruby", "dart-sdk", "swift", "perl", "zig", "erlang", "gnucobol", "node", "python@3", "openssl@3", "llvm", "gcc", "nasm", "yasm", "postgresql@16", "mysql-client", "redis", "sqlite", "podman", "podman-compose", "groovy", "scala", "elixir", "r", "micropython", "gleam", "ocaml", "swi-prolog",
    # Linters & Formatters
    "golangci-lint", "golangci-lint-langserver", "php-cs-fixer", "prettier", "shellcheck", "yamllint",
    # Web & Build tools
    "yarn", "pnpm", "composer", "neovim", "gulp-cli", "ffmpeg", "php", "wp-cli", "tailwindcss", "uv", "pipx", "vite", "webpack", "tlrc", "ninja", "gradle", "fastmod", "hugo", "zola",
    # AI Agents
    "gemini-cli", "opencode", "block-goose-cli", "EstebanForge/tap/mcp-cli-ent", "EstebanForge/tap/md-over-here",
    # PHP Extensions (using direct tap format - replace @8.5 with your PHP version)
    "shivammathur/extensions/pcov@8.5",
]

# Rust tools installed via Cargo
[cargo]
packages = [
    "worktrunk",
]

# Global Node.js packages
[npm]
packages = [
    "@qwen-code/qwen-code@latest",
    "@github/copilot",
    "cline",
    "@openai/codex",
    "@kilocode/cli",
    "agent-browser",
    "url-to-markdown-cli-tool",
    "sass",
    "@mariozechner/pi-coding-agent",
]

# Python packages
[pip]
packages = [
    "litellm",
    # "black",
    # "isort",
]

# Ruby gems
[gems]
packages = [
    "jekyll",
]

# Specialized tools and version managers
# Set to true to enable installation
[tools]
asdf = true
bun = true
mise = true
nix = false
nvm = false
phpbrew = false
vmr = false
volta = false

# Commands to run after all package managers finish
[post_install]
commands = [
    "agent-browser install --with-deps",
    "if [ -x \"$HOME/.local/bin/droid\" ]; then echo \"Droid already installed\"; else curl -fsSL https://app.factory.ai/cli | sh; fi",
]
